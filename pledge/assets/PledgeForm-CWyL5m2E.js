import{e as T,s as b,E as Z,d as R,o as a,c as o,f as i,n as V,u as k,_ as U,t as c,g as u,F as g,r as _,b as S,a as v,w as E,v as N}from"./index-BaBVsy6b.js";const W="service_account",w="pledge-form-app",M="f3e036893aa002f1608c95300d4b0bbe76753614",Q="pledge-form-app@pledge-form-app.iam.gserviceaccount.com",x="107349963010640637197",f="https://accounts.google.com/o/oauth2/auth",J="https://oauth2.googleapis.com/token",y="https://www.googleapis.com/oauth2/v1/certs",Y="https://www.googleapis.com/robot/v1/metadata/x509/pledge-form-app%40pledge-form-app.iam.gserviceaccount.com",B="googleapis.com",H="LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2Z0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktnd2dnU2tBZ0VBQW9JQkFRRE1ndUJncUE5MmhxMHEKNE5wN2dMbm4yYXRZajFXZXdqWlh5Qm9ucmo0b3FaQTZISmNlUTV6YjAxeW5jSEpEcTA1R1YwVSttdGFUSWZuNgpybVpVYVAzN1h2dEwvTEtQdHVNa2FiL3FqUVdsd0xGQ0U1QjVrekV4MGFTUHlud1phcW1UbnYyMTBCenNEd0VLCktjaWhUQXNXZEw5b2VtbW5YajczZXNMOW1KZm51UVp0Wis4bWdYd2JuNFhack9UWURaZEtzRkliYXFvMU9MNkYKeUlSOWpmQXgwQ2dHZU1oVmphSDhxOXBNa2xrdHM0WUFqNlFGSUluYlJWemJ2ek5HOTdVYkF2ZGxTcmJnejBybwpqVmVpSVhsVkVBdTl6US9ZMkp1K0M4ZUJ2ZVkvNk8yT2xjWVFIdTM5NjRsZ21RTG8vYkp2QzJSalR4RU5HWjVDCkg3bHBEUkRwQWdNQkFBRUNnZ0VBQWE1YjdpM2Vya1VYVGdRY01Ma0JIU1JNdXR1RCtGZjNMc0lidnU1ajBuSzIKZ2dyNjQxeFpPSTQ5Q3dYR3dWZ0RCMlBUd2owSTFKdkJ0UUc3MDZOdm91YUZ5cnJ0Mm43T2xSVWdsaDRDbkdRSwo5Q3dsR1Jsb0I1bW9SK1BYT2xlb2JqbmVHVU9OTXFUMGRvUXNsQkw3ZHhWb09xYkg0ZXR2OVR2dHQ3UEdEemthCnVXU2VkSHZPTm9oMmdDZ2dWTVcxcCtoYkxGQXpPTHZlZktKcnJjVTFvWXZzR0sxM1Z6UlUvYTA2RS9oZFQxcE0KckkrelNPaWZMTFk0RjVpUlBVSHZYbVgweHlQMExPR0VtckNOUjNldENTSFRkZTUyR3U0a0lUYWJOR2VXRmVrcApZeFlaSWRyODVjc1ZXbXRqVVNZb25RbTV1UVlFQkQrSC9ZejZTK1BPQlFLQmdRRHBsaHZFd0NYRWJRRjEzelFOCnVuT3I5WmxyNUp0RG01S1FXT01IY1NRT2tXRTF5UHV4elg1NGcrdHppTU9UWURTQ0ZYRWFiaHVvVk03eEVrSTUKenYybklwMUdGRlQ0NEFGT0ZtaXExWmZseHlaNEpKRmhKa3k2L2Z4cWJjdlExUVltblY1czVuTGdPUUl3OEZVUgpLMnZHVmwyb05TQlBybTV2RDRLQ3h3S0d0UUtCZ1FEZ0lvNmh0Tk0vcEtwYXE4b1E5TnRoaC9KREo1ZTIwSEhMCmtham0wenlCdGtCblJtS0I3dm8vVWFwaHBtRmQwL1JVamloc2JJcHB3ZzVaZ0JxMW5SWW1mYVgxbXNhUUZ3UUMKYUtjeVRseE55R0Z4THE2YjJBS1FLMklvd3NEbGx2WlhOd2ZWd0dHV2hKWDlFRDh3MW4xN2ljUTVFbi9tcXF1cwpRNVlLQ09IdDVRS0JnQTlpK085TDdQRDBjVDB2ZDhGVHY5emE3OEZBck0yV1NPQkRTcWtwMWNNejVtQmhuZHJICmU0WTZ3bDY0NnBFaHJEUEpiOHJhNSsxOXNLZ0dtT0F2OTF0MEYwSVBnczFtREEvMXYrMUk1cG1YTmJ5Q1JDVlAKSFl6UHdEbk9nN2Q4NE12WVgranlnU3l0OUt2K21NdnB2VTZ5VDdjTjBOUU8zRzFxYXlGc05JbGxBb0dCQUpIKwowSXVTbnJ2cEJiSTBEbFpIT0pOcUd5c1ZJaVRKMkNYeXhtTThtMEFldUFyTmRTTVB5Ri93VVJ4MFpSM2FEMS80CmpXbzZ0Vm80Tm1La0tFRytoZ3dpY2pUdVVZTFFDeU9LaWNZaDlzd1B4ekVUYUZkSk9Eb3ltQ2pXMnhGeDZScGMKVlRVdHNDTjhUN3JjbDF5M2lsc3JITzdVRnczb2hCU2NuYUlCc1REbEFvR0JBSVNqVlVIL2xrV2YwOXE0SXNCVAp5b2czSHA4cER3ek9VUFZuVFRNTVJRSkx0aExEYVFxVnBmZnBMeGVudkJ2a2R1V0ZiTFZPTFhaTnY3OG5HSEZMClZNVjV5SXVaSHZTT3dHbGJLbDVTSFl3amU2Z1JqR2dnWEphQVZXSkdzczhmMU9FOTRjYjl3MDFRMTFibitDcjIKRFJyQisxU2p4ekhhRGhOWjFWcHBZVnBWCi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K",h={type:W,project_id:w,private_key_id:M,client_email:Q,client_id:x,auth_uri:f,token_uri:J,auth_provider_x509_cert_url:y,client_x509_cert_url:Y,universe_domain:B,b64pkey:H},p={spreadsheetId:"1rMtJ-0urQwmmPSk2EnPrQnxkO5GWbCbua9Vod6FiGPQ",danaFormTab:"Dana",donationFormTab:"Donations"},D={title:"Kathina Donations",description:"Please submit your pledge for the Kathina donations.",items:[{title:"Temple Operational Expenses",description:"These are the projected expenses related to continuied operation of the temple over the coming year."},{title:"Electricity bill",description:"One unit is one-month sponsorship.",unitPrice:200,unitsRequired:12,unitsReceived:2,unitLabelSingular:"month",unitLabelPlural:"months"},{title:"Average heating bill",unitPrice:80,unitsRequired:12,unitsReceived:0,unitLabelSingular:"month",unitLabelPlural:"months"},{title:"100 Watt equivalent, 6-pack LED lamps",unitsRequired:3,unitsReceived:2,unitLabelSingular:"pack",unitLabelPlural:"packs"}]},se=T("pledgeSubmission",{state:()=>({danaPledgeForm:null,donationPledgeForm:null,name:"",email:"",phone:""}),actions:{async loadForm(d,t){const s=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive.file"],l=new b.JWT({email:h.client_email,key:atob(h.b64pkey),scopes:s}),n=new Z(p.spreadsheetId,l);return await n.loadInfo(),console.log(n.title),D},async loadDanaPledgeFrom(){this.danaPledgeForm=await this.loadForm(p.spreadsheetId,p.danaFormTab)},async loadDonationsPledgeFrom(){this.donationPledgeForm=await this.loadForm(p.spreadsheetId,p.danaFormTab)},setDanaPledge(d,t){this.danaPledgeForm.items.find(s=>s.title==d).unitsPledged=t},setDonationPledge(d,t){this.donationPledgeForm.items.find(s=>s.title==d).unitsPledged=t}}}),P={class:"progress"},j=["aria-valuenow","aria-valuemax"],X=["aria-valuenow","aria-valuemax"],L=R({__name:"ProgressBar",props:{max:{},current:{}},setup(d){const t=d,s=Math.round(t.current/t.max*100),l=100-s;return(n,m)=>(a(),o("div",P,[i("div",{class:"progress-bar bg-success",role:"progressbar","aria-valuenow":n.current,"aria-valuemin":0,"aria-valuemax":n.max,style:V("width:"+k(s)+"%")},null,12,j),i("div",{class:"progress-bar bg-danger",role:"progressbar","aria-valuenow":n.current,"aria-valuemin":0,"aria-valuemax":n.max,style:V("width:"+l+"%")},null,12,X)]))}}),C=U(L,[["__scopeId","data-v-4b69f0d8"]]),O={key:0},G=["innerHTML"],I={key:0},K=["innerHTML"],z={key:1,class:"row"},q={key:0,class:""},A={class:"field-row"},$=["for"],ee=["id"],te={key:0},ne={class:""},ae=["max","id","aria-describedby","onUpdate:modelValue"],oe=R({__name:"PledgeForm",props:{formDefinition:{}},setup(d){const t=d;return(s,l)=>{var n,m;return t.formDefinition?(a(),o("div",O,[i("h1",null,c(t.formDefinition.title),1),((n=t.formDefinition.description)==null?void 0:n.length)>0?(a(),o("div",{key:0,innerHTML:t.formDefinition.description},null,8,G)):u("",!0),(a(!0),o(g,null,_((m=t.formDefinition)==null?void 0:m.items,(e,r)=>(a(),o("div",{key:r},[!e.unitsRequired||e.unitsRequired==0?(a(),o("div",I,[i("h2",null,c(e.title),1),e.description&&e.description.length>0?(a(),o("div",{key:0,innerHTML:e.description},null,8,K)):u("",!0)])):(a(),o("div",z,[e.unitsRequired>(e.unitsReceived?e.unitsReceived:0)?(a(),o("div",q,[i("div",A,[i("label",{for:"field"+r,class:"form-label"},c(e.title),9,$),i("div",{id:"fieldHelp"+r},[S(c(e.description)+" ",1),e.unitPrice&&e.unitPrice>0?(a(),o("span",te,"One sponsorship = $"+c(e.unitPrice)+".",1)):u("",!0)],8,ee),i("div",ne,[v(C,{current:e.unitsReceived?e.unitsReceived:0,max:e.unitsRequired},null,8,["current","max"]),l[0]||(l[0]=i("span",{class:"contribution-prompt"},"Your Contribution: ",-1)),E(i("input",{type:"number",min:"0",max:e.unitsRequired-(e.unitsReceived?e.unitsReceived:0),class:"col-1",id:"fieldHelp"+r,"aria-describedby":"fieldHelp"+r,"onUpdate:modelValue":F=>e.unitsPledged=F,value:"0"},null,8,ae),[[N,e.unitsPledged]])])])])):u("",!0)]))]))),128))])):u("",!0)}}}),de=U(oe,[["__scopeId","data-v-f7298fb9"]]);export{de as P,se as u};
